# Template file for 'mklittlefs'
pkgname=mklittlefs
version=3.2.0
revision=1
_littlefs_version=2.5.1
build_style=gnu-makefile
short_desc="Utility for creating littlefs for upload on the ESP8266 and RP2040 Pico"
maintainer="Michael Aldridge <maldridge@voidlinux.org>"
license="MIT"
homepage="https://github.com/earlephilhower/mklittlefs"
distfiles="https://github.com/earlephilhower/mklittlefs/archive/refs/tags/$version.tar.gz
 https://github.com/littlefs-project/littlefs/archive/refs/tags/v$_littlefs_version.tar.gz"
checksum="243d2717ce28d90c47d4cfa4002d0ebc95d6fdbeffccc57e07e221987b2f22cb
 77acdd699fbc8c62efe1467a90de4bde133517fb370b10a538e25d341a11b4e1"
skip_extraction="v${_littlefs_version}.tar.gz"

post_extract() {
	vsrcextract -C littlefs "v${_littlefs_version}.tar.gz"
}

do_install() {
	vbin mklittlefs
	vlicense LICENSE.txt
}

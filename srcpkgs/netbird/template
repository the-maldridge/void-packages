# Template file for 'netbird'
pkgname=netbird
version=0.14.4
revision=1
build_style=go
go_import_path=github.com/netbirdio/netbird
go_package="$go_import_path/client
 $go_import_path/management
 $go_import_path/signal"
short_desc="Wireguard mesh network with SSO/MFA and simple access controls"
maintainer="Michael Aldridge <maldridge@voidlinux.org>"
license="BSD-3-Clause"
homepage="https://netbird.io"
distfiles="https://github.com/netbirdio/netbird/archive/refs/tags/v$version.tar.gz"
checksum=7cfad70cd0fecc2d0f7bf68a03efe05e5f6e1a3627998169dc07b7c9f8e3b8d2
system_accounts="_netbird"
_netbird_homedir="/var/netbird"
_netbird_descr="Unprivileged netbird service account"

post_install() {
	vlicense LICENSE

	mv $DESTDIR/usr/bin/{client,netbird}
	mv $DESTDIR/usr/bin/{management,netbird-mgmt}
	mv $DESTDIR/usr/bin/{signal,netbird-signal}

        vsv netbird-mgmt
        vsv netbird-signal
}
